<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Stopwatch Defense</title>
    <link rel="stylesheet" href="style.css?v=3">
    <link
        href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&family=Roboto+Mono:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="game-container">
        <canvas id="game-canvas"></canvas>
        <div id="ui-layer">
            <div id="hud">
                <div class="hud-left">
                    <div id="wave-container">Wave: <span id="wave">1</span></div>
                    <div id="health-container">HP: <span id="health">100</span></div>
                </div>
                <div class="hud-right">
                    <div id="score-container">COIN: <span id="score">0</span></div>
                    <button id="shop-btn">SHOP</button>
                    <button id="menu-btn">MENU</button>
                </div>
            </div>
            <div id="stopwatch-display">00.00</div>
            <div id="message-area"></div>

            <div id="debug-menu"
                style="position: absolute; top: 80px; right: 20px; z-index: 1000; background: rgba(0,0,0,0.5); padding: 5px; border-radius: 5px; color: white; font-family: 'Roboto Mono', monospace; pointer-events: auto;">
                <label>Jump to:</label>
                <select id="wave-select" style="background: black; color: white; border: 1px solid #555;">
                    <option value="1">Wave 1</option>
                    <option value="2">Wave 2</option>
                    <option value="3">Wave 3 (Boss A)</option>
                    <option value="4">Wave 4</option>
                    <option value="5">Wave 5</option>
                    <option value="6">Wave 6 (Boss B)</option>
                    <option value="7">Wave 7</option>
                    <option value="8">Wave 8</option>
                    <option value="9">Wave 9 (Boss C)</option>
                    <option value="10">Wave 10</option>
                    <option value="12">Wave 12 (Boss D)</option>
                    <option value="15">Wave 15 (Boss E)</option>
                </select>
                <button id="wave-jump-btn"
                    style="background: #333; color: white; border: 1px solid #555; cursor: pointer;">GO</button>
            </div>

            <div id="pause-screen" class="screen hidden">
                <h1>PAUSED</h1>
                <button id="resume-btn">RESUME</button>
                <button id="music-toggle-btn">MUSIC: ON</button>
                <button id="pause-menu-btn">MAIN MENU</button>
            </div>

            <div id="shop-screen" class="screen hidden">
                <h2>SHOP</h2>
                <div id="coins-display">Coins: <span id="shop-coins">0</span></div>
                <div class="shop-items">
                    <div class="shop-item" data-item="radius">
                        <img src="img/icon_radius.png" alt="Radius" class="shop-icon">
                        <div class="shop-info">
                            <span class="shop-name">Radius</span>
                            <div class="level-indicator">
                                <div class="pip empty"></div>
                                <div class="pip empty"></div>
                            </div>
                            <button class="buy-btn">100</button>
                        </div>
                    </div>
                    <div class="shop-item" data-item="power">
                        <img src="img/icon_power.png" alt="Power" class="shop-icon">
                        <div class="shop-info">
                            <span class="shop-name">Power</span>
                            <div class="level-indicator">
                                <div class="pip empty"></div>
                                <div class="pip empty"></div>
                            </div>
                            <button class="buy-btn">150</button>
                        </div>
                    </div>
                    <!-- Tolerance Removed -->
                    <div class="shop-item" data-item="heal">
                        <img src="img/icon_repair.png" alt="Repair" class="shop-icon">
                        <div class="shop-info">
                            <span class="shop-name">Repair</span>
                            <div class="level-desc">+20 HP</div>
                            <button class="buy-btn">100</button>
                        </div>
                    </div>
                    <div class="shop-item" data-item="maxHealth">
                        <img src="img/icon_fortify.png" alt="Fortify" class="shop-icon">
                        <div class="shop-info">
                            <span class="shop-name">Fortify</span>
                            <div class="level-desc">+10 Max HP</div>
                            <button class="buy-btn">100</button>
                        </div>
                    </div>
                </div>
                <button id="close-shop-btn">Resume</button>
            </div>
            <div id="start-screen" class="screen">
                <!-- Title is part of background image now -->
                <!-- <h1>Stopwatch Defense</h1> -->
                <div class="difficulty-container">
                    <button class="diff-btn" data-diff="EASY">EASY</button>
                    <button class="diff-btn" data-diff="NORMAL">NORMAL</button>
                    <button class="diff-btn" data-diff="HARD">HARD</button>
                    <button class="diff-btn" data-diff="HELL">HELL</button>
                </div>
            </div>
            <div id="game-over-screen" class="screen hidden">
                <h1>Game Over</h1>
                <p>Score: <span id="final-score">0</span></p>
                <button id="restart-btn">Restart</button>
            </div>
        </div>
    </div>
    <script type="module" src="js/main.js?v=5"></script>
</body>

</html>